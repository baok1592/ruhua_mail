(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-731ef86e"],{"14dc":function(t,e,n){},3441:function(t,e,n){"use strict";var i=n("e99b"),o=n("3250"),r=n("8078"),a=n("0926"),s=[].sort,l=[1,2,3];i(i.P+i.F*(a((function(){l.sort(void 0)}))||!a((function(){l.sort(null)}))||!n("95b6")(s)),"Array",{sort:function(t){return void 0===t?s.call(r(this)):s.call(r(this),o(t))}})},5874:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"ad"}},[n("el-container",[n("el-aside",{staticClass:"not-print bg-white erbian",attrs:{width:"160px"}},[n("Nav",{attrs:{ac:"8"}})],1),n("el-main",{staticStyle:{"background-color":"#F3F3F3"}},[n("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),n("el-breadcrumb-item",[t._v("导航")])],1),n("transition",{attrs:{appear:"","appear-active-class":"animated fadeInLeft"}},[n("div",{staticClass:"list"},[n("div",{staticClass:"list-head"},[n("el-row",{staticStyle:{display:"flex"}},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.create_ad}},[t._v("添加导航")]),n("el-button",{attrs:{type:"warning",size:"small"},on:{click:t.sort_sub}},[t._v("更新排序")]),n("el-dialog",{attrs:{title:"",visible:t.dialogFormVisible,width:"45%",center:""},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[n("el-form",{attrs:{model:t.form}},[n("el-form-item",{attrs:{label:"导航名称","label-width":t.formLabelWidth}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.nav_name,callback:function(e){t.$set(t.form,"nav_name",e)},expression:"form.nav_name"}})],1),n("el-form-item",{attrs:{label:"跳转到","label-width":t.formLabelWidth}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.url,callback:function(e){t.$set(t.form,"url",e)},expression:"form.url"}})],1),n("el-form-item",{attrs:{label:"广告图片","label-width":t.formLabelWidth}},[t.img_list.length>0?[n("div",{staticStyle:{display:"flex",width:"530px","flex-wrap":"wrap"}},[t._l(t.img_list,(function(e,i){return[n("i",{staticClass:"el-icon-circle-close",on:{click:function(e){return t.delimg(i)}}}),t.img_list.length>0?n("div",{staticClass:"picA"},[n("img",{staticClass:"img",attrs:{src:t.getimg+e.url}})]):t._e()]}))],2)]:t._e(),t.img_list.length<1?n("div",{staticClass:"picA",staticStyle:{"margin-left":"19px"},on:{click:t.choose_pic}},[n("i",{staticClass:"el-icon-plus",staticStyle:{"margin-top":"45%",height:"28px",width:"28px"}})]):t._e(),n("div",{staticStyle:{"margin-left":"19px",fontSize:"12px",marginTop:"-10px",color:"rgb(192,196,204)"}},[t._v("建议上传的广告图大小：784*264")])],2)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.eid<1?n("el-button",{attrs:{type:"primary"},on:{click:t.sub}},[t._v("立即创建")]):n("el-button",{attrs:{type:"success"},on:{click:t.subEdit}},[t._v("提交修改")])],1)],1)],1)],1),[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[n("el-table-column",{attrs:{prop:"sort",label:"排序",width:"100",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.sort,callback:function(n){t.$set(e.row,"sort",n)},expression:"scope.row.sort"}})]}}])}),n("el-table-column",{attrs:{prop:"nav_name",label:"导航名称名称",width:"220"}}),n("el-table-column",{attrs:{prop:"imgs.url",label:"缩略图",width:"280"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("img",{attrs:{src:t.getimg+e.row.imgs.url,with:"140",height:"70"}})]}}])}),n("el-table-column",{attrs:{prop:"url",label:"跳转到",width:"280"}}),n("el-table-column",{attrs:{prop:"operation",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"success",size:"small"},on:{click:function(n){return t.on_edit(e.row)}}},[t._v("编辑")]),n("el-button",{staticStyle:{"margin-left":"10px"},attrs:{slot:"reference",type:"danger",size:"small"},on:{click:function(n){return t.del(e.row.id,e.$index)}},slot:"reference"},[t._v("删除")])]}}])})],1)]],2)])],1)],1),n("Pic",{attrs:{drawer:t.drawer,father_fun:t.get_img,length:t.length}})],1)},o=[],r=(n("1bc78"),n("9f60"),n("94f0"),n("0c84"),n("2843"),n("a450"),n("3441"),n("4057"),n("d22d"),n("ab56")),a=(n("2763"),n("a49b")),s=n("6691");n("71c2");function l(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=u(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,r=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw r}}}}function u(t,e){if(t){if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var d={name:"Ad",data:function(){return{is_goods:"",eid:"",type_list:[],length:1,drawer:!1,getimg:this.$getimg,img_list:[],dialogFormVisible:!1,form:{nav_name:"",url:"",img_id:0},formLabelWidth:"120px",input:"",banners:"",upfile_url:a["a"]+"admin/upload/img",upfile_data:{use:"AD"},options:[{value:"",label:"不跳转"},{value:"goods",label:"商品"},{value:"article",label:"文章"}],upfile_head:{token:localStorage.getItem("token")},upfile_list:[],list:[],article:"",goods:""}},components:{Nav:s["a"],Pic:r["a"]},computed:{},watch:{dialogFormVisible:function(t,e){t||(this.img_list=[])}},methods:{choose:function(t){console.log(t)},is_change:function(t){console.log(t),"article"==t&&(this.type_list=this.article,this.is_goods=0),"goods"==t&&(this.type_list=this.goods,this.is_goods=1)},_load:function(){var t=this;this.http.get("nav/get_nav").then((function(e){console.log(e.data);var n=e.status.toString();2==n.charAt(0)&&(t.list=e.data)}))},choose_pic:function(){this.length=6-this.img_list.length,this.drawer=!0},get_img:function(t){for(var e in this.drawer=!1,t){var n=t[e];this.img_list.push(n),this.form.img_id=n.id}this.length=6-this.img_list.length},is_show:function(){this.drawer=!this.drawer},delimg:function(t){this.img_list.splice(t,1)},_clsForm:function(){var t=this;for(var e in t.eid="",t.form)t.form[e]=""},subEdit:function(){var t=this;t.form["id"]=this.eid;var e={id:t.form.id,img_id:t.form.img_id,nav_name:t.form.nav_name,url:t.form.url};console.log(t.form),t.http.post("nav/admin/edit_nav",e).then((function(e){t.$message({showClose:!0,message:"更新成功",type:"success"}),t.dialogFormVisible=!1,t._load()}))},on_edit:function(t){var e=this;e.eid=t.id,e.dialogFormVisible=!0,e.form=t;var n={id:"",url:""};n.id=t.img_id,n.url=t.imgs.url,e.img_list.push(n),console.log(e.img_list)},sort_sub:function(){var t,e=this,n={},i=this,o=l(i.list);try{for(o.s();!(t=o.n()).done;){var r=t.value;n[r.id]=r.sort}}catch(a){o.e(a)}finally{o.f()}this.http.post_show("nav/admin/set_sort",n).then((function(t){e.$message({message:"操作成功",type:"success"})}))},create_ad:function(){this._clsForm(),this.dialogFormVisible=!0},sub:function(){var t=this,e=this,n=e.form;this.http.post("nav/admin/add_nav",n).then((function(n){e.$message({showClose:!0,message:"添加成功",type:"success"}),t._clsForm(),t.img_list=[],e.dialogFormVisible=!1,e._load()}))},up_ok:function(t){this.form.img_id=t.id},del:function(t,e){var n=this;this.$confirm("是否删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){n.http.put_show("nav/admin/del_nav?id="+t).then((function(t){n.$message({showClose:!0,message:"删除成功",type:"success"}),n._load()}))}))}},mounted:function(){this._load()}},m=d,f=(n("c093"),n("5d22")),h=Object(f["a"])(m,i,o,!1,null,null,null);e["default"]=h.exports},6691:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"root"},[n("div",{staticClass:"top-title"},[t._v("应用管理")]),n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.act},on:{open:t.handleOpen,close:t.handleClose}},[n("el-menu-item",{attrs:{index:"1"},on:{click:t.jump_to_b}},[n("span",{attrs:{slot:"title"},slot:"title"},[t._v("优惠券")])]),n("el-menu-item",{attrs:{index:"2"},on:{click:t.jump_to_a}},[n("span",{attrs:{slot:"title"},slot:"title"},[t._v("满减")])]),n("el-menu-item",{attrs:{index:"3"},on:{click:t.jump_to_ad}},[n("span",{attrs:{slot:"title"},slot:"title"},[t._v("广告")])]),n("el-menu-item",{attrs:{index:"4"},on:{click:t.jump_article}},[n("span",{attrs:{slot:"title"},slot:"title"},[t._v("文章")])]),n("el-menu-item",{attrs:{index:"5"},on:{click:t.jump_address}},[n("span",{attrs:{slot:"title"},slot:"title"},[t._v("地址")])]),n("el-menu-item",{attrs:{index:"6"},on:{click:t.jump_smdc}},[n("span",{attrs:{slot:"title"},slot:"title"},[t._v("扫码点餐")])]),n("el-menu-item",{attrs:{index:"7"},on:{click:t.jump_serach}},[n("span",{attrs:{slot:"title"},slot:"title"},[t._v("搜索")])])],1)],1)},o=[],r={data:function(){return{act:""}},props:{ac:String},mounted:function(){console.log(this.ac),this.act=this.ac},methods:{jump_address:function(){this.$router.push({path:"/extend/address"})},jump_Nav:function(){this.$router.push({path:"/extend/Nav"})},jump_serach:function(){this.$router.push({path:"/serach/serach"})},jump_article:function(){this.$router.push({path:"/extend/article"})},jump_to_ad:function(){this.$router.push({path:"/extend/ad"})},jump_to_a:function(){this.$router.push({path:"/extend/discount"})},jump_to_b:function(){this.$router.push({path:"/extend/coupon"})},jump_to_c:function(){this.$router.push({path:"/extend/pt"})},jump_to_d:function(){this.$router.push({path:"/extend/discount"})},jump_smdc:function(){this.$router.push({path:"/extend/smdc"})},handleOpen:function(t,e){console.log(t,e)},handleClose:function(t,e){console.log(t,e)},handleselect:function(t,e){this.act=t,localStorage.setItem("act",t)}}},a=r,s=n("5d22"),l=Object(s["a"])(a,i,o,!1,null,null,null);e["a"]=l.exports},"95b6":function(t,e,n){"use strict";var i=n("0926");t.exports=function(t,e){return!!t&&i((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},c093:function(t,e,n){"use strict";n("14dc")},d22d:function(t,e,n){"use strict";var i=n("981f");function o(){var t="coupon/admin/get_coupon";return i["a"].get(t).then((function(t){return t}))}function r(t){var e="coupon/admin/del_coupon";return i["a"].put_show(e,{id:t}).then((function(t){return t}))}function a(t){var e="coupon/admin/add_coupon";return i["a"].post_show(e,t).then((function(t){return t}))}function s(){var t="banner/admin/banner_all_item";return i["a"].get(t).then((function(t){return t}))}function l(t){console.log(t);var e="banner/admin/add_banner";return i["a"].post_show(e,t).then((function(t){return t}))}function u(t){var e="banner/admin/del_banner";return i["a"].put_show(e,t).then((function(t){return t}))}function c(){var t="reduction/admin/get_all_reduction";return i["a"].get(t).then((function(t){return t}))}function d(){var t="";return i["a"].get(t).then((function(t){return t}))}function m(t){var e="";return i["a"].post_show(e,t).then((function(t){return t}))}function f(t){var e="reduction/admin/del_reduction?id=";return i["a"].put_show(e,{id:t}).then((function(t){return t}))}function h(t){var e="reduction/get_one_reduction";return i["a"].get(e+"?id="+t).then((function(t){return t}))}function p(){var t="index/get_address";return i["a"].get(t).then((function(t){return t}))}function _(t){var e="cms/admin/add_region";return i["a"].post_show(e,t).then((function(t){return t}))}function g(t){var e="/cms/admin/del_region";return i["a"].Del(e+"?id="+t).then((function(t){return t}))}function v(t){var e="/cms/admin/edit_region";return i["a"].post_show(e,t).then((function(t){return t}))}e["a"]={edit_address:v,del_address:g,add_address:_,get_all_address:p,get_one_mj:h,get_all_coupon:o,del_coupon:r,add_coupon:a,get_all_ad:s,add_ad:l,del_ad:u,get_all_mj:c,get_all_no_mj:d,del_mj:f,add_mj:m}}}]);